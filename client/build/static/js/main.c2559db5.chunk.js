(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{148:function(e,t,a){},149:function(e,t,a){},151:function(e,t,a){},230:function(e){e.exports={GOOGLE_CLIENT_ID:"266661848887-c1k9k4o5etb29rt36t61sr5t1kdd3m3j.apps.googleusercontent.com"}},232:function(e,t,a){e.exports=a(427)},264:function(e,t,a){},272:function(e,t,a){},424:function(e,t,a){},425:function(e,t,a){},427:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(24),s=a.n(r),i=a(8),o=a(9),c=a(11),u=a(10),h=a(12),d=a(91),m=a(41),f=a(4),v=a(432),p=a(50),g=a(42),b=a(430),y=a(428),k=a(217),S=a(429),j=a(218),O=a(219),E=a(433),w=a(431),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleShow=a.handleShow.bind(Object(f.a)(Object(f.a)(a))),a.handleClose=a.handleClose.bind(Object(f.a)(Object(f.a)(a))),a.handleSave=a.handleSave.bind(Object(f.a)(Object(f.a)(a))),a.handleChange=a.handleChange.bind(Object(f.a)(Object(f.a)(a))),a.handleColorChange=a.handleColorChange.bind(Object(f.a)(Object(f.a)(a))),a.state={show:!1,tags:[],edit:[],color:"",newTag:{name:"",color:""}},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/tag").then(function(e){return e.json()}).then(function(t){e.setState({tags:t,edit:Array(t.length).fill(0)})}).catch(function(e){console.log(e)})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleSave",value:function(e){e.preventDefault();var t=this.state.newTag;t.user=this.props.user,this.setState({show:!1,newTag:{name:"",color:""}}),""!==t.name&&""!==t.color&&(fetch("/tag",{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).catch(function(e){console.log(e)}),this.props.handleSave(t))}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(function(e){return{newTag:Object(g.a)({},e.newTag,Object(p.a)({},t,a))}})}},{key:"handleDelete",value:function(e){var t=this.state.tags,a={_id:t[e]._id};this.props.handleDelete(t[e].name),t.splice(e,1),this.setState({tags:t}),fetch("/tag",{method:"DELETE",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).catch(function(e){console.log(e)})}},{key:"handleEdit",value:function(e){var t=this.state.edit;if(1===t[e])t[e]=0,this.setState({edit:t,color:""});else{t[e]=1;var a=this.state.tags[e].color;this.setState({edit:t,color:a})}}},{key:"handleColorChange",value:function(e){var t=e.target.value;this.setState({color:t})}},{key:"handleSaveEdit",value:function(e){var t=this.state.edit;t[e]=0;var a=this.state.tags;if(""!==this.state.color&&(a[e].color=this.state.color),this.setState({edit:t,tags:a,color:""}),""!==this.state.color){var n=a[e];fetch("/tag",{method:"PUT",body:JSON.stringify(n),headers:{Accept:"application/json","Content-Type":"application/json"}}).catch(function(e){console.log(e)})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.tags,n=t.edit;return l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a.Link,{bsPrefix:"sidebarlink submenu",label:"Tag",onClick:this.handleShow},"Manage Tags"),l.a.createElement(b.a,{show:this.state.show,onHide:this.handleClose,"aria-labelledby":"contained-modal-title-vcenter",dialogClassName:"modal-25w",centered:!0},l.a.createElement(b.a.Header,{closeButton:!0},l.a.createElement(b.a.Title,null,"Manage Tags")),l.a.createElement(b.a.Body,null,l.a.createElement(y.a,{style:{paddingBottom:"10px"}},l.a.createElement(k.a,{md:"4"}," ",l.a.createElement("b",null,"Tag Name")," "),l.a.createElement(k.a,{md:"4"}," ",l.a.createElement("b",null,"Tag Color")," "),l.a.createElement(k.a,null)),a.map(function(t,a){return l.a.createElement(y.a,{key:a},l.a.createElement(k.a,{md:"4"},t.name),l.a.createElement(k.a,{md:"4"},l.a.createElement(S.a,{id:a},l.a.createElement("p",{className:n[a]?"edit":"default"},t.color),l.a.createElement(j.a,{className:n[a]?"default":"edit",defaultValue:t.color,"aria-label":t.color,"aria-describedby":"basic-addon1",onChange:e.handleColorChange}))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"light",size:"sm",onClick:e.handleDelete.bind(e,a)},l.a.createElement("ion-icon",{name:"trash"})),l.a.createElement(O.a,{variant:"light",size:"sm",onClick:e.handleEdit.bind(e,a)},l.a.createElement("ion-icon",{name:"create"})),l.a.createElement(O.a,{className:n[a]?"default":"edit",variant:"light",size:"sm",onClick:e.handleSaveEdit.bind(e,a)},l.a.createElement("ion-icon",{name:"checkmark-circle-outline"}))))}),l.a.createElement(E.a.Divider,null),l.a.createElement(w.a,{onSubmit:function(t){return e.handleSave(t)}},l.a.createElement(w.a.Row,null,l.a.createElement(w.a.Group,{as:k.a,controlId:"name"},l.a.createElement(w.a.Label,null," Tag Name "),l.a.createElement(w.a.Control,{required:!0,name:"name",type:"text",onChange:this.handleChange})),l.a.createElement(w.a.Group,{as:k.a,controlId:"color"},l.a.createElement(w.a.Label,null," Tag Color "),l.a.createElement(w.a.Control,{required:!0,name:"color",type:"text",onChange:this.handleChange}))))),l.a.createElement(b.a.Footer,null,l.a.createElement("button",{className:"btn btn-primary custom",onClick:this.handleSave},"Save"))))}}]),t}(n.Component);a(264);function D(e){var t=e.label,a=e.to,n=e.activeOnlyWhenExact;return l.a.createElement(m.b,{path:a,exact:n,children:function(e){var n=e.match;return l.a.createElement(v.a.Item,{bsPrefix:"sidebaritem",className:n?"active":""},l.a.createElement(v.a.Link,{href:a,bsPrefix:"sidebarlink",eventKey:n?"disabled":""},t))}})}var x=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleSave=e.handleSave.bind(Object(f.a)(Object(f.a)(e))),e.handleDelete=e.handleDelete.bind(Object(f.a)(Object(f.a)(e))),e.state={user:"",rotate:!1,rotatetags:!1,subjects:["Agile Software Development","Machine Learning","SSPC"],tags:[{_id:"",user:"m",name:"homework",color:"pink"},{_id:"",user:"m",name:"else",color:"purple"},{_id:"",user:"m",name:"quiz",color:"blue"}]},e}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/class").then(function(e){return e.json()}).then(function(t){var a=[],n=!0,l=!1,r=void 0;try{for(var s,i=t[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var o=s.value;a.push(o.name)}}catch(c){l=!0,r=c}finally{try{n||null==i.return||i.return()}finally{if(l)throw r}}e.setState({subjects:a})}).catch(function(e){console.log(e)}),fetch("/tag").then(function(e){return e.json()}).then(function(t){e.setState({tags:t,user:t[0].user})}).catch(function(e){console.log(e)})}},{key:"handleSave",value:function(e){var t=this.state.tags;t.push(e),this.setState({tags:t})}},{key:"handleDelete",value:function(e){var t=this.state.tags;t=t.filter(function(t){return t.name!==e}),this.setState({tags:t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.user,n=t.rotate,r=t.subjects,s=t.rotatetags,i=t.tags;return l.a.createElement(d.a,null,l.a.createElement(v.a,{id:"sidebar",variant:"pills",className:"flex-column"},l.a.createElement(v.a.Item,{id:"user"},l.a.createElement(v.a.Link,{bsPrefix:"sidebarlink userlink",disabled:"true"},"Organizer")),l.a.createElement(D,{to:"/schedules",label:"Schedules"}),l.a.createElement(v.a.Item,{bsPrefix:"sidebaritem"},l.a.createElement(v.a.Link,{bsPrefix:"sidebarlink",onClick:function(){return e.setState({rotatetags:!s})}},"Tags \xa0",l.a.createElement("span",{className:s?"in":"out"},"\u25b2"))),l.a.createElement("div",{className:s?"show":"hidden"},i.map(function(e,t){return l.a.createElement(v.a.Item,{bsPrefix:"submenu",key:t},l.a.createElement(v.a.Link,{bsPrefix:"sidebarlink submenu",href:"/tag/".concat(e.name),label:"Tag"},e.name))}),l.a.createElement(v.a.Item,{bsPrefix:"submenu"},l.a.createElement(C,{user:a,handleSave:this.handleSave,handleDelete:this.handleDelete}))),l.a.createElement(v.a.Item,{bsPrefix:"sidebaritem"},l.a.createElement(v.a.Link,{bsPrefix:"sidebarlink",onClick:function(){return e.setState({rotate:!n})}},"Subjects \xa0",l.a.createElement("span",{className:n?"in":"out"},"\u25b2"))),l.a.createElement("div",{className:n?"show":"hidden"},r.map(function(e,t){return l.a.createElement(v.a.Item,{bsPrefix:"submenu",key:t},l.a.createElement(v.a.Link,{bsPrefix:"sidebarlink submenu",href:"/subject/".concat(e),label:"Subject"},e))})),l.a.createElement(D,{to:"/analysis",label:"Analysis"}),l.a.createElement(D,{to:"/setting",label:"Setting"})))}}]),t}(l.a.Component),T=a(434),N=a(128),P=a(129),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleShow=a.handleShow.bind(Object(f.a)(Object(f.a)(a))),a.handleClose=a.handleClose.bind(Object(f.a)(Object(f.a)(a))),a.handleSave=a.handleSave.bind(Object(f.a)(Object(f.a)(a))),a.handleUpdate=a.handleUpdate.bind(Object(f.a)(Object(f.a)(a))),a.handleChange=a.handleChange.bind(Object(f.a)(Object(f.a)(a))),a.handleTagChange=a.handleTagChange.bind(Object(f.a)(Object(f.a)(a))),a.handleClassChange=a.handleClassChange.bind(Object(f.a)(Object(f.a)(a))),a.handleOptionChange=a.handleOptionChange.bind(Object(f.a)(Object(f.a)(a))),a.state={show:!1,task:e.task,option:null===e.task?"3":e.task.difficulty.toString(),tags:null,newTask:{user:e.user,name:"",duetime:"",tag:[],class:"",classname:"",difficulty:3,predictiontime:""}},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleSave",value:function(e){e.preventDefault();var t=this.state.newTask;t.difficulty=parseInt(this.state.option),t.predictiontime=parseInt(t.predictiontime),this.props.handleSave(t),this.setState({show:!1});t.classname;var a=Object(N.a)(t,["classname"]);a.tag=a.tag.map(function(e){return e._id}),fetch("/task",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).catch(function(e){console.log(e)})}},{key:"handleUpdate",value:function(e){e.preventDefault();var t=this.state.task;t.difficulty=parseInt(this.state.option),t.predictiontime=parseInt(t.predictiontime),this.props.handleUpdate(t),this.setState({show:!1});t.classname;var a=Object(N.a)(t,["classname"]);a.tag=a.tag.map(function(e){return e._id}),fetch("/task",{method:"PUT",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}}).catch(function(e){console.log(e)})}},{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;null===this.state.task?this.setState(function(e){return{newTask:Object(g.a)({},e.newTask,Object(p.a)({},t,a))}}):this.setState(function(e){return{task:Object(g.a)({},e.task,Object(p.a)({},t,a))}})}},{key:"handleTagChange",value:function(e){null===this.state.task?this.setState(function(t){return{newTask:Object(g.a)({},t.newTask,{tag:e})}}):this.setState(function(t){return{task:Object(g.a)({},t.task,{tag:e})}})}},{key:"handleClassChange",value:function(e){null===this.state.task?this.setState(function(t){return{newTask:Object(g.a)({},t.newTask,{class:e.class,classname:e.classname})}}):this.setState(function(t){return{task:Object(g.a)({},t.task,{class:e.class,classname:e.classname})}})}},{key:"handleOptionChange",value:function(e){var t=e.target.value;this.setState({option:t})}},{key:"render",value:function(){var e=this,t=[];if(null!==this.state.task){var a=!0,n=!1,r=void 0;try{for(var s,i=this.state.task.tag[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var o=s.value;t.push({value:o.name,label:o.name,color:o.color,_id:o._id})}}catch(c){n=!0,r=c}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}}return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:null===this.state.task?"btn btn-primary custom":"btn btn-light btn-sm",disabled:null!==this.props.disabled&&this.props.disabled,onClick:this.handleShow},null===this.state.task?"Add New Task":l.a.createElement("ion-icon",{name:"create"})),l.a.createElement(b.a,{show:this.state.show,onHide:this.handleClose,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(b.a.Header,{closeButton:!0},l.a.createElement(b.a.Title,null,null===this.state.task?"New Task":"Edit Task")),l.a.createElement(b.a.Body,null,l.a.createElement(w.a,{onSubmit:function(t){return e.handleSave(t)}},l.a.createElement(w.a.Row,null,l.a.createElement(w.a.Group,{as:k.a,md:"4",controlId:"classname"},l.a.createElement(w.a.Label,null,"Subject "),l.a.createElement(L,{classes:null===this.state.task?null:this.state.task.classname,handleClassChange:this.handleClassChange})),l.a.createElement(w.a.Group,{as:k.a,md:"4",controlId:"name"},l.a.createElement(w.a.Label,null,"Task "),l.a.createElement(w.a.Control,{required:!0,name:"name",type:"text",defaultValue:null===this.state.task?"":this.state.task.name,onChange:this.handleChange})),l.a.createElement(w.a.Group,{as:k.a,md:"4",controlId:"duetime"},l.a.createElement(w.a.Label,null,"Due "),l.a.createElement(w.a.Control,{required:!0,name:"duetime",type:"datetime-local",defaultValue:null===this.state.task?"":this.state.task.duetime,onChange:this.handleChange}))),l.a.createElement(w.a.Row,null,l.a.createElement(w.a.Group,{as:k.a,md:"4",controlId:"tag"},l.a.createElement(w.a.Label,null,"Tags "),l.a.createElement(F,{tags:null===this.state.task?null:t,handleTagChange:this.handleTagChange})),l.a.createElement(w.a.Group,{as:k.a,md:"4",controlId:"predictiontime"},l.a.createElement(w.a.Label,null,"Estimated hours to finish "),l.a.createElement(w.a.Control,{required:!0,name:"predictiontime",type:"number",defaultValue:null===this.state.task?"":this.state.task.predictiontime,onChange:this.handleChange})),l.a.createElement(w.a.Group,{as:k.a,md:"4",controlId:"difficulty"},l.a.createElement(w.a.Label,null,"Difficulty level "),l.a.createElement("br",null),l.a.createElement(w.a.Check,{inline:!0,type:"radio",label:"1",value:"1",name:"diff",onChange:this.handleOptionChange,checked:"1"===this.state.option}),l.a.createElement(w.a.Check,{inline:!0,type:"radio",label:"2",value:"2",name:"diff",onChange:this.handleOptionChange,checked:"2"===this.state.option}),l.a.createElement(w.a.Check,{inline:!0,type:"radio",label:"3",value:"3",name:"diff",onChange:this.handleOptionChange,checked:"3"===this.state.option}),l.a.createElement(w.a.Check,{inline:!0,type:"radio",label:"4",value:"4",name:"diff",onChange:this.handleOptionChange,checked:"4"===this.state.option}),l.a.createElement(w.a.Check,{inline:!0,type:"radio",label:"5",value:"5",name:"diff",onChange:this.handleOptionChange,checked:"5"===this.state.option}))))),l.a.createElement(b.a.Footer,null,l.a.createElement("button",{className:"btn btn-primary custom",onClick:null===this.state.task?this.handleSave:this.handleUpdate},"Save"))))}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({selectedOption:e});var t=[],n=!0,l=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var o=s.value;t.push({name:o.value,color:o.color,_id:o._id})}}catch(c){l=!0,r=c}finally{try{n||null==i.return||i.return()}finally{if(l)throw r}}a.props.handleTagChange(t)},a.state={options:[],selectedOption:e.tags},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/tag").then(function(e){return e.json()}).then(function(t){var a=[],n=!0,l=!1,r=void 0;try{for(var s,i=t[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var o=s.value;a.push({value:o.name,label:o.name,color:o.color,_id:o._id})}}catch(c){l=!0,r=c}finally{try{n||null==i.return||i.return()}finally{if(l)throw r}}e.setState({options:a})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return l.a.createElement(P.a,{isMulti:!0,value:this.state.selectedOption,onChange:this.handleChange,options:this.state.options})}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({selectedOption:e});var t={class:e.value,classname:e.label};a.props.handleClassChange(t)},a.state={options:[{value:"1",label:"Agile Software Development"},{value:"2",label:"Machine Learning"},{value:"3",label:"SSPC"}],selectedOption:e.classes},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/class").then(function(e){return e.json()}).then(function(t){var a=[],n=!0,l=!1,r=void 0;try{for(var s,i=t[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var o=s.value;a.push({value:o._id,label:o.name})}}catch(c){l=!0,r=c}finally{try{n||null==i.return||i.return()}finally{if(l)throw r}}e.setState({options:a})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.state.selectedOption;if("string"===typeof e){var t=!0,a=!1,n=void 0;try{for(var r,s=this.state.options[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value;i.label===e&&(e={value:i.value,label:i.label})}}catch(o){a=!0,n=o}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}}return l.a.createElement(P.a,{value:e,onChange:this.handleChange,options:this.state.options})}}]),t}(n.Component),M=A,I=(a(148),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleStart=function(){a.setState({isStarted:!0});var e=(new Date).getDate(),t=(new Date).getMonth()+1,n=(new Date).getFullYear()+"-"+t+"-"+e+"T"+(new Date).getHours()+":"+(new Date).getMinutes();fetch("/task",{method:"PUT",body:JSON.stringify({_id:a.state.task._id,starttime:n}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},a.handleDone=function(){a.setState({isDone:!0});var e=(new Date).getDate(),t=(new Date).getMonth()+1,n=(new Date).getFullYear()+"-"+t+"-"+e+"T"+(new Date).getHours()+":"+(new Date).getMinutes();fetch("/task",{method:"PUT",body:JSON.stringify({_id:a.state.task._id,state:!0,finishtime:n}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},a.handleUpdate=a.handleUpdate.bind(Object(f.a)(Object(f.a)(a))),a.handleSave=a.handleSave.bind(Object(f.a)(Object(f.a)(a))),a.state={task:e.task,isStarted:""!==e.task.starttime,isDone:e.task.state},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleUpdate",value:function(e){this.setState({task:e}),this.props.handleUpdate(e)}},{key:"handleSave",value:function(e){this.props.handleSave(e)}},{key:"render",value:function(){var e=this.props.task.duetime.slice(11,16),t=parseInt(e.slice(0,2)),a="AM";t>=12&&(12!==t&&(e=(t-12).toString()+":"+e.slice(3,5)),a="PM");var n=this.state.task.user;return l.a.createElement(y.a,{bsPrefix:this.state.isDone?"row done":"row",style:{textAlign:"center"}},l.a.createElement(k.a,null,l.a.createElement("p",{ref:"Subject"},this.state.task.classname)),l.a.createElement(k.a,null,l.a.createElement("p",{ref:"Name"}," ",this.state.task.name)),l.a.createElement(k.a,null,l.a.createElement("p",{ref:"Duetime"}," ",e," ",a," ")),l.a.createElement(k.a,null,l.a.createElement("p",{ref:"Estimated"}," ",this.state.task.predictiontime," Hours")),l.a.createElement(k.a,null,this.state.task.tag.map(function(e,t){return l.a.createElement("font",{key:t,ref:"Tag",color:e.color},e.name," \xa0")})),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"light",size:"sm",disabled:this.state.isStarted||this.state.isDone,onClick:this.handleStart},l.a.createElement("ion-icon",{name:"arrow-dropright-circle"})),l.a.createElement(O.a,{variant:"light",size:"sm",disabled:this.state.isDone,onClick:this.handleDone},l.a.createElement("ion-icon",{name:"checkmark-circle-outline"})),l.a.createElement(M,{disabled:this.state.isDone,user:n,task:this.state.task,handleUpdate:this.handleUpdate,handleSave:this.handleSave}),l.a.createElement(O.a,{variant:"light",size:"sm",disabled:this.state.isDone,onClick:this.props.handleDelete},l.a.createElement("ion-icon",{name:"trash"}))))}}]),t}(n.Component)),_=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this))).handleDelete=function(e){var t=a.state.tasks,n={_id:t[e]._id};1===t.length?a.props.handleDelete():(t.splice(e,1),a.setState({tasks:t})),fetch("/task",{method:"DELETE",body:JSON.stringify(n),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},a.handleSave=a.handleSave.bind(Object(f.a)(Object(f.a)(a))),a.state={date:e.date,tasks:e.tasks},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleUpdate",value:function(e,t){1===this.state.tasks.length?this.props.handleDelete():(this.state.tasks.splice(e,1),this.setState({tasks:this.state.tasks})),this.props.handleUpdate(e,t)}},{key:"handleSave",value:function(e){this.props.handleSave(e)}},{key:"render",value:function(){var e=this,t=this.state.tasks[0].user;return l.a.createElement(T.a,{id:"cardlook",className:"text-left"},l.a.createElement(T.a.Header,{as:"h5"},this.state.date),l.a.createElement(T.a.Body,null,l.a.createElement(T.a.Title,null,l.a.createElement(y.a,{style:{textAlign:"center"}},l.a.createElement(k.a,null,"Subject"),l.a.createElement(k.a,null,"Required"),l.a.createElement(k.a,null,"Due"),l.a.createElement(k.a,null,"Estimated"),l.a.createElement(k.a,null,"Tags"),l.a.createElement(k.a,null,l.a.createElement(M,{user:t,task:null,handleUpdate:this.handleUpdate,handleSave:this.handleSave})))),this.state.tasks.map(function(t,a){return l.a.createElement(I,{task:t,key:a,handleDelete:e.handleDelete.bind(e,a),handleUpdate:e.handleUpdate.bind(e,a),handleSave:e.handleSave})})))}}]),t}(n.Component);a(272),a(149);a(100);var U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).update=a.update.bind(Object(f.a)(Object(f.a)(a))),a.state={date:a.props.date,text:a.props.text},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"update",value:function(e,t){this.setState({date:e,text:t})}},{key:"render",value:function(){return l.a.createElement("div",{className:"carousel-cell"},l.a.createElement("div",{className:"timenode"},this.state.date,l.a.createElement("span",{className:"details"},this.state.text)))}}]),t}(l.a.Component);a(100);var B=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={schedules:{}},a.dots=[];for(var n=0;n<14;++n)a.dots.push(l.a.createRef());return a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all(["/schedule","/class"].map(function(e){return fetch(e)})).then(function(e){return Promise.all(e.map(function(e){return e.json()}))}).then(function(t){var a={},n=!0,l=!1,r=void 0;try{for(var s,i=t[0][Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var o=s.value,c=o.duetime.slice(0,10),u=void 0,h=!0,d=!1,m=void 0;try{for(var f,v=t[1][Symbol.iterator]();!(h=(f=v.next()).done);h=!0){var p=f.value;p._id===o.class&&(u=p.name)}}catch(C){d=!0,m=C}finally{try{h||null==v.return||v.return()}finally{if(d)throw m}}o.classname=u,a.hasOwnProperty(c)?a[c].push(o):a[c]=[o]}}catch(C){l=!0,r=C}finally{try{n||null==i.return||i.return()}finally{if(l)throw r}}e.setState({schedules:e.sortByDate(a)}),console.log(e.state.schedules);for(var g=[],b=[],y=0,k=Object.keys(e.state.schedules);y<k.length;y++){var S=k[y];console.log(S+"T00:00:00.000-04:00"),b.push(new Date(S+"T00:00:00.000-04:00")),g.push(S)}var j=new Date,O=new Date;O.setDate(O.getDate()-1);for(var E=0;b[E]<O&&E<b.length;)E+=1;b[E]>O&&E>0&&--E;for(var w=0;w<14;++w)b[E].toDateString()===O.toDateString()?(e.dots[w].current.update(b[E].toDateString(),e.gethwtext(e.state.schedules[g[E]])),++E):O.toDateString()===j.toDateString()?e.dots[w].current.update(j.toDateString(),"enjoy your day off"):e.dots[w].current.update("","enjoy your day off"),O.setDate(O.getDate()+1)}).catch(function(e){console.log(e)})}},{key:"gethwtext",value:function(e){var t="",a=!0,n=!1,l=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var i=r.value;t+=i.classname+": "+i.name+"\r\n"}}catch(o){n=!0,l=o}finally{try{a||null==s.return||s.return()}finally{if(n)throw l}}return console.log(t),t}},{key:"sortByDate",value:function(e){var t={};return Object.keys(e).sort().forEach(function(a){t[a]=e[a]}),t}},{key:"render",value:function(){return l.a.createElement("div",{className:"lineDiv"},l.a.createElement("div",{className:"line"}),l.a.createElement("div",{className:"Timeline","data-flickity":'{  "groupCells": 2, "cellAlign": "left", "setGallerySize": false, "fade": true }'},l.a.createElement(U,{ref:this.dots[0]}),l.a.createElement(U,{ref:this.dots[1]}),l.a.createElement(U,{ref:this.dots[2]}),l.a.createElement(U,{ref:this.dots[3]}),l.a.createElement(U,{ref:this.dots[4]}),l.a.createElement(U,{ref:this.dots[5]}),l.a.createElement(U,{ref:this.dots[6]}),l.a.createElement(U,{ref:this.dots[7]}),l.a.createElement(U,{ref:this.dots[8]}),l.a.createElement(U,{ref:this.dots[9]}),l.a.createElement(U,{ref:this.dots[10]}),l.a.createElement(U,{ref:this.dots[11]}),l.a.createElement(U,{ref:this.dots[12]}),l.a.createElement(U,{ref:this.dots[13]})))}}]),t}(l.a.Component),G=a(426),z={position:"absolute",left:"88%",marginTop:"2%"},R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).loadDefault=function(e){return{minValue:0,maxValue:100,circleThickness:.05,circleFillGap:.05,circleColor:"rgb(68, 0, 121)",waveHeight:.05,waveCount:1,waveRiseTime:1e3,waveAnimateTime:1800,waveRise:!0,waveHeightScaling:!0,waveAnimate:!0,waveColor:G.scaleLinear().domain([0,20,40,60,80,100]).range(["#91C4F2","#8CA0D7","#9D79BC","#A14DA0","#7E1F86"])(e),waveOffset:0,textVertPosition:.5,textSize:1,valueCountUp:!0,displayPercent:!1,textColor:"#2E0C31",waveTextColor:"#A4DBf8"}},a.loadDefault=a.loadDefault.bind(Object(f.a)(Object(f.a)(a))),a.pred=a.pred.bind(Object(f.a)(Object(f.a)(a))),a.state={schedules:{}},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all(["/schedule","/class"].map(function(e){return fetch(e)})).then(function(e){return Promise.all(e.map(function(e){return e.json()}))}).then(function(t){var a={},n=!0,l=!1,r=void 0;try{for(var s,i=t[0][Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var o=s.value,c=o.duetime.slice(0,10),u=void 0,h=!0,d=!1,m=void 0;try{for(var f,v=t[1][Symbol.iterator]();!(h=(f=v.next()).done);h=!0){var p=f.value;p._id===o.class&&(u=p.name)}}catch(g){d=!0,m=g}finally{try{h||null==v.return||v.return()}finally{if(d)throw m}}o.classname=u,a.hasOwnProperty(c)?a[c].push(o):a[c]=[o]}}catch(g){l=!0,r=g}finally{try{n||null==i.return||i.return()}finally{if(l)throw r}}e.setState({schedules:e.sortByDate(a)}),e.loadLiquidGauge("stress",e.pred(),e.props.text)}).catch(function(e){console.log(e)})}},{key:"pred",value:function(){for(var e=[],t=[],a=[],n=0,l=Object.keys(this.state.schedules);n<l.length;n++){var r=l[n];console.log(r+"T00:00:00.000-04:00"),t.push(new Date(r+"T00:00:00.000-04:00")),e.push(r)}for(var s=new Date,i=0;t[i]<s;)++i;for(var o=0;o<7;++o)t[i].toDateString()===s.toDateString()&&(a.push(e[i]),++i),s.setDate(s.getDate()+1);for(var c=0,u=0,h=a;u<h.length;u++){var d=h[u],m=!0,f=!1,v=void 0;try{for(var p,g=this.state.schedules[d][Symbol.iterator]();!(m=(p=g.next()).done);m=!0){c+=p.value.predictiontime}}catch(b){f=!0,v=b}finally{try{m||null==g.return||g.return()}finally{if(f)throw v}}}return console.log(c),c}},{key:"sortByDate",value:function(e){var t={};return Object.keys(e).sort().forEach(function(a){t[a]=e[a]}),t}},{key:"loadLiquidGauge",value:function(e,t,a,n){var l=n||this.loadDefault(t),r=G.select("#"+e),s=Math.min(parseInt(r.style("width")),parseInt(r.style("height")))/2,i=parseInt(r.style("width"))/2-s,o=parseInt(r.style("height"))/2-s,c=Math.max(l.minValue,Math.min(l.maxValue,t))/l.maxValue,u=null;u=l.waveHeightScaling?G.scaleLinear().range([0,l.waveHeight,0]).domain([0,50,100]):G.scaleLinear().range([l.waveHeight,l.waveHeight]).domain([0,100]);var h=l.textSize*s/2,d=parseFloat(t).toFixed(2),m=l.valueCountUp?l.minValue:d,f=l.displayPercent?"%":"",v=l.circleThickness*s,p=v+l.circleFillGap*s,g=s-p,b=g*u(100*c),y=2*g/l.waveCount,k=1+l.waveCount,S=y*k,j=function(e){return Math.round(e)};parseFloat(d)!==parseFloat(j(d))&&(j=function(e){return parseFloat(e).toFixed(1)}),parseFloat(d)!==parseFloat(j(d))&&(j=function(e){return parseFloat(e).toFixed(2)});for(var O=[],E=0;E<=40*k;++E)O.push({x:E/(40*k),y:E/40});var w,C=G.scaleLinear().range([0,2*Math.PI]).domain([0,1]),D=G.scaleLinear().range([0,s]).domain([0,s]),x=G.scaleLinear().range([0,S]).domain([0,1]),T=G.scaleLinear().range([0,b]).domain([0,1]),N=G.scaleLinear().range([p+2*g+b,p-b]).domain([0,1]),P=G.scaleLinear().range([0,S-2*g]).domain([0,1]),A=G.scaleLinear().range([p+2*g,p+.7*h]).domain([0,1]),F=r.append("g").attr("transform","translate("+i+","+o+")"),L=G.arc().startAngle(C(0)).endAngle(C(1)).outerRadius(D(s)).innerRadius(D(s-v));F.append("path").attr("d",L).style("fill",l.circleColor).attr("transform","translate("+s+","+s+")"),a&&(w=F.append("text").text(j(m)+f).attr("class","liquidFillGaugeText").attr("text-anchor","middle").attr("font-size",h+"px").style("fill",l.textColor).attr("transform","translate("+s+","+A(l.textVertPosition)+")"));var M=G.area().x(function(e){return x(e.x)}).y0(function(e){return T(Math.sin(2*Math.PI*l.waveOffset*-1+2*Math.PI*(1-l.waveCount)+2*e.y*Math.PI))}).y1(function(e){return 2*g+b}),I=F.append("defs").append("clipPath").attr("id","clipWave"+e),_=I.append("path").datum(O).attr("d",M).attr("T",0),U=F.append("g").attr("clip-path","url(#clipWave"+e+")");U.append("circle").attr("cx",s).attr("cy",s).attr("r",g).style("fill",l.waveColor);var B=null;if(a&&(B=U.append("text").text(j(m)+f).attr("class","liquidFillGaugeText").attr("text-anchor","middle").attr("font-size",h+"px").style("fill",l.waveTextColor).attr("transform","translate("+s+","+A(l.textVertPosition)+")")),l.valueCountUp){var z=function(){var e=G.interpolate(this.textContent,d);return function(t){this.textContent=j(e(t))+f}};a&&(w.transition().duration(l.waveRiseTime).tween("text",z),B.transition().duration(l.waveRiseTime).tween("text",z))}var R=p+2*g-S;l.waveRise?I.attr("transform","translate("+R+","+N(0)+")").transition().duration(l.waveRiseTime).attr("transform","translate("+R+","+N(c)+")").on("start",function(){_.attr("transform","translate(1,0)")}):I.attr("transform","translate("+R+","+N(c)+")"),l.waveAnimate&&function e(){_.attr("transform","translate("+P(_.attr("T"))+",0)");_.transition().duration(l.waveAnimateTime*(1-_.attr("T"))).ease(G.easeLinear).attr("transform","translate("+P(1)+",0)").attr("T",1).on("end",function(){_.attr("T",0),e(l.waveAnimateTime)})}()}},{key:"render",value:function(){return l.a.createElement("svg",{id:"stress",width:"70",height:"70",style:z})}}]),t}(l.a.Component),H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={subjectFilter:e.match.params!=={}?e.match.params.subject:"",tagFilter:e.match.params!=={}?e.match.params.tag:"",schedules:{"2019-05-10":[{_id:"",class:"1",classname:"Agile Software Development",name:"HW10",duetime:"2019-05-10T08:00",predictiontime:1.5,tag:[{_id:"",name:"homework",color:"pink"}],difficulty:2,state:!1,starttime:"..."},{_id:"",class:"2",classname:"Machine Learning",name:"Homework 3",duetime:"2019-05-10T08:00",predictiontime:8,tag:[{_id:"",name:"homework",color:"pink"},{name:"else",color:"purple"}],difficulty:5,state:!1,starttime:""}],"2019-05-15":[{_id:"",class:"3",classname:"SSPC",name:"Final Paper",duetime:"2019-05-15T15:30",predictiontime:5,tag:[{_id:"",name:"homework",color:"pink"}],difficulty:4,state:!0,starttime:""}]}},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all(["/schedule","/class"].map(function(e){return fetch(e)})).then(function(e){return Promise.all(e.map(function(e){return e.json()}))}).then(function(t){var a={},n=!0,l=!1,r=void 0;try{for(var s,i=t[0][Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var o=s.value,c=o.duetime.slice(0,10),u=void 0,h=!0,d=!1,m=void 0;try{for(var f,v=t[1][Symbol.iterator]();!(h=(f=v.next()).done);h=!0){var p=f.value;p._id===o.class&&(u=p.name)}}catch(g){d=!0,m=g}finally{try{h||null==v.return||v.return()}finally{if(d)throw m}}o.classname=u,a.hasOwnProperty(c)?a[c].push(o):a[c]=[o]}}catch(g){l=!0,r=g}finally{try{n||null==i.return||i.return()}finally{if(l)throw r}}e.setState({schedules:e.sortByDate(a)})}).catch(function(e){console.log(e)})}},{key:"handleDelete",value:function(e){delete this.state.schedules[e],this.setState({schedules:this.state.schedules})}},{key:"handleUpdate",value:function(e,t){var a=t.duetime.slice(0,10),n=this.state.schedules;n.hasOwnProperty(a)?n[a].splice(e,0,t):n[a]=[t];var l=this.sortByDate(n);this.setState({schedules:l})}},{key:"handleSave",value:function(e){var t=e.duetime.slice(0,10),a=this.state.schedules;a.hasOwnProperty(t)?a[t].push(e):a[t]=[e];var n=this.sortByDate(a);this.setState({schedules:n})}},{key:"sortByDate",value:function(e){var t={},a=(new Date).getDate();a<10&&(a="0"+a);var n=(new Date).getMonth()+1;n<10&&(n="0"+n);var l=(new Date).getFullYear()+"-"+n+"-"+a;return Object.keys(e).sort().forEach(function(a){a>l&&(t[a]=e[a])}),t}},{key:"filter",value:function(e){var t=this;if(void 0!==this.state.subjectFilter||void 0!==this.state.tagFilter){var a={};return void 0!==this.state.subjectFilter?function(){for(var n=t.state.subjectFilter,l=0,r=Object.keys(e);l<r.length;l++){var s=r[l],i=e[s].filter(function(e){return e.classname===n});0!==i.length&&(a[s]=i)}}():void 0!==this.state.tagFilter&&function(){for(var n=t.state.tagFilter,l=0,r=Object.keys(e);l<r.length;l++){var s=r[l],i=e[s].filter(function(e,t){var a=null,l=!0,r=!1,s=void 0;try{for(var i,o=e.tag[Symbol.iterator]();!(l=(i=o.next()).done);l=!0){i.value.name===n&&(a=t)}}catch(c){r=!0,s=c}finally{try{l||null==o.return||o.return()}finally{if(r)throw s}}return null!==a});0!==i.length&&(a[s]=i)}}(),a}return e}},{key:"render",value:function(){var e=this,t=this.state.schedules;t=this.filter(t),t=this.sortByDate(t);var a=!1,n="",r=!1,s="";return void 0!==this.state.subjectFilter?(a=!0,n=this.state.subjectFilter):void 0!==this.state.tagFilter&&(r=!0,s=this.state.tagFilter),l.a.createElement("div",{className:"Schedule"},l.a.createElement(R,{value:68,text:!1}),l.a.createElement(B,{value:this.state.schedules}),l.a.createElement("h4",{id:"title"},a?"Tasks for ".concat(n):"",r?"Tasks for ".concat(s):""),l.a.createElement("div",{className:"block"},Object.keys(t).map(function(a,n){return l.a.createElement(_,{key:a,date:a,tasks:t[a],handleDelete:e.handleDelete.bind(e,a),handleUpdate:e.handleUpdate.bind(e),handleSave:e.handleSave.bind(e)})})))}}]),t}(n.Component),q=(a(151),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{id:"setting"},l.a.createElement(T.a.Body,{className:"log-box"},l.a.createElement(T.a.Title,null,l.a.createElement(y.a,null,l.a.createElement(k.a,{className:"text"},"Nickname:"),l.a.createElement(k.a,null,l.a.createElement("input",{type:"text",className:"nname",onChange:this.props.handleNickNameChange})),l.a.createElement(k.a,{className:"text"},"NetID:"),l.a.createElement(k.a,null,l.a.createElement("input",{type:"text",className:"uname",onChange:this.props.handleUserNameChange})),l.a.createElement(k.a,{className:"text"},"Password:"),l.a.createElement(k.a,null,l.a.createElement("input",{type:"password",className:"pwd",onChange:this.props.handlePwdChange})))),l.a.createElement(k.a,null,l.a.createElement("button",{className:"btn btn-primary log-btn",onClick:this.props.handleLogin},"Confirm"),l.a.createElement("button",{className:"btn btn-primary sign",onClick:this.props.handleSign},"Logout"))))}}]),t}(n.Component)),W=a(227),V=a.n(W),J=a(228),Y=a.n(J),Q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleNickNameChange=function(e){a.setState({NickName:e.target.value})},a.handleUserNameChange=function(e){a.setState({userName:e.target.value})},a.handlePwdChange=function(e){a.setState({pwd:e.target.value})},a.handleNickNameChange=function(e){a.setState({NickName:e.target.value})},a.handleLogin=function(e){return a.setState({redirect:!0}),a.setState({loginstate:!0}),a.setState({loading:!0}),setTimeout(function(){a.setState({loading:!1})},700),a.setState({loginstate:!0}),a.setState({user:{name:a.state.nickname,netid:a.state.nickname,password:a.state.nickname}}),fetch("/user",{method:"POST",body:JSON.stringify(a.user),headers:{Accept:"application/json","Content-Type":"application/json"}}).catch(function(e){console.log(e)}),l.a.createElement(m.a,{to:"/schedules"})},a.handleSign=function(){!1===a.state.loginstate?alert("You have not logged in"):alert("Logout successfully!")},a.state={redirect:!1,loginstate:!1,loadingstate:!1,loading:!1,user:null},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return!0===this.state.loading?l.a.createElement(V.a,{type:"ThreeDots",color:"#somecolor",display:"flex",alignItems:"center",justifyContent:"center",height:200,width:800}):this.state.redirect?l.a.createElement(Y.a,null,l.a.createElement(m.a,{to:"/schedules"}),l.a.createElement(x,{to:"/schedules",label:"Schedules"})):l.a.createElement("div",{className:"Settingpage"},l.a.createElement(q,{handleUserNameChange:this.handleUserNameChange,handlePwdChange:this.handlePwdChange,handleSign:this.handleSign,handleLogin:this.handleLogin,handleNickNameChange:this.handleNickNameChange}))}}]),t}(n.Component),X=a(13);a(82),a(84),a(379),a(197);var K={width:"100%",height:"100%"},Z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).drawChart=function(e,t,a){var n=X.init(document.querySelector(".chartdiv")),l=this.props.name;n.setOption({title:{text:l},tooltip:{},legend:{data:["predicted time","actual time"]},xAxis:{data:e},yAxis:{},series:[{name:"predicted time",type:"bar",data:t,itemStyle:{color:"#8ca0d7"}},{name:"actual time",type:"bar",data:a,itemStyle:{color:"#a14da0"}}]})},a.state={schedules:{}},a.drawChart=a.drawChart.bind(Object(f.a)(Object(f.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all(["/schedule","/class"].map(function(e){return fetch(e)})).then(function(e){return Promise.all(e.map(function(e){return e.json()}))}).then(function(t){var a={},n=!0,l=!1,r=void 0;try{for(var s,i=t[0][Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var o=s.value,c=o.duetime.slice(0,10),u=void 0,h=!0,d=!1,m=void 0;try{for(var f,v=t[1][Symbol.iterator]();!(h=(f=v.next()).done);h=!0){var p=f.value;p._id===o.class&&(u=p.name)}}catch(U){d=!0,m=U}finally{try{h||null==v.return||v.return()}finally{if(d)throw m}}o.classname=u,a.hasOwnProperty(c)?a[c].push(o):a[c]=[o]}}catch(U){l=!0,r=U}finally{try{n||null==i.return||i.return()}finally{if(l)throw r}}e.setState({schedules:e.sortByDate(a)}),console.log(e.state.schedules);for(var g=[],b=[],y=0,k=Object.keys(e.state.schedules);y<k.length;y++){var S=k[y];console.log(S+"T00:00:00.000-04:00"),b.push(new Date(S+"T00:00:00.000-04:00")),g.push(S)}for(var j=[],O=[],E=[],w=0,C=0,D=g;C<D.length;C++){var x=D[C],T=e.state.schedules[x];console.log(T);var N=!0,P=!1,A=void 0;try{for(var F,L=T[Symbol.iterator]();!(N=(F=L.next()).done);N=!0){var M=F.value;if(0!==M.actualtime){var I,_;if(I=M.classname.length>4?M.classname.slice(0,4)+"..":M.classname,_=M.name>7?M.name.slice(0,4):M.name,j.push(I+" "+_),O.push(M.predictiontime),E.push(M.actualtime),++w>=7)break}}}catch(U){P=!0,A=U}finally{try{N||null==L.return||L.return()}finally{if(P)throw A}}if(w>=7)break}console.log(j),console.log(O),console.log(E),e.drawChart(j,O,E)}).catch(function(e){console.log(e)})}},{key:"sortByDate",value:function(e){var t={};return Object.keys(e).sort().forEach(function(a){t[a]=e[a]}),t}},{key:"render",value:function(){return l.a.createElement("div",{className:"chartdiv",style:K})}}]),t}(l.a.Component),$=a(13);a(82),a(84),a(397);var ee={width:"100%",height:"100%"},te=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).drawChart=function(e,t,a){$.init(document.querySelector(".linediv")).setOption({title:{text:this.props.name},legend:{data:["predicted","actual"]},xAxis:{type:"category",boundaryGap:!1,data:e},yAxis:{type:"value"},series:[{name:"predicted",data:t,type:"line",areaStyle:{color:"rgba(140, 160, 215, 0.5)"}},{name:"actual",data:a,type:"line",areaStyle:{color:"rgba(161, 77, 160, 0.5)"}}]})},a.state={schedules:{}},a.drawChart=a.drawChart.bind(Object(f.a)(Object(f.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all(["/schedule","/class"].map(function(e){return fetch(e)})).then(function(e){return Promise.all(e.map(function(e){return e.json()}))}).then(function(t){var a={},n=!0,l=!1,r=void 0;try{for(var s,i=t[0][Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var o=s.value,c=o.duetime.slice(0,10),u=void 0,h=!0,d=!1,m=void 0;try{for(var f,v=t[1][Symbol.iterator]();!(h=(f=v.next()).done);h=!0){var p=f.value;p._id===o.class&&(u=p.name)}}catch(N){d=!0,m=N}finally{try{h||null==v.return||v.return()}finally{if(d)throw m}}o.classname=u,a.hasOwnProperty(c)?a[c].push(o):a[c]=[o]}}catch(N){l=!0,r=N}finally{try{n||null==i.return||i.return()}finally{if(l)throw r}}e.setState({schedules:e.sortByDate(a)});for(var g=[],b=[],y=0,k=Object.keys(e.state.schedules);y<k.length;y++){var S=k[y];b.push(new Date(S+"T00:00:00.000-04:00")),g.push(S)}var j=new Date;j.setDate(j.getDate()-1);for(var O=e.getXdata(j),E=0,w=[];b[E]<j&&E<b.length;)w.push(g[E]),E+=1;b[E]>j&&--E;for(var C=[],D=[],x=0;x<5;++x){if(console.log(b[E].toDateString()),console.log(j.toDateString()),E>=0&&b[E].toDateString()===j.toDateString()){var T=e.getPAdata(e.state.schedules[g[E]]);console.log(T),C.push(T[0]),D.push(T[1]),--E}else C.push(5),D.push(5);j.setDate(j.getDate()-1)}e.drawChart(O,C.reverse(),D.reverse())}).catch(function(e){console.log(e)})}},{key:"getPAdata",value:function(e){var t=0,a=0,n=!0,l=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var o=s.value;t+=o.predictiontime,a+=o.actualtime}}catch(c){l=!0,r=c}finally{try{n||null==i.return||i.return()}finally{if(l)throw r}}return[t,a]}},{key:"getXdata",value:function(e){var t=["Mon","Tue","Wed","Thu","Fri",{value:"Sat",textStyle:{fontSize:15,color:"red"}},"Sun"],a=e.toDateString().slice(0,3);return"Mon"===a?t=["Thu","Fri","Sat","Sun","Mon",{value:"Tue",textStyle:{fontSize:15,color:"red"}},"Wed"]:"Tue"===a?t=["Fri","Sat","Sun","Mon","Tue",{value:"Wed",textStyle:{fontSize:15,color:"red"}},"Thu"]:"Wed"===a?t=["Sat","Sun","Mon","Tue","Wed",{value:"Thu",textStyle:{fontSize:15,color:"red"}},"Fri"]:"Thu"===a?t=["Sun","Mon","Tue","Wed","Thu",{value:"Fri",textStyle:{fontSize:15,color:"red"}},"Sat"]:"Sat"===a?t=["Tue","Wed","Thu","Fri","Sat",{value:"Sun",textStyle:{fontSize:15,color:"red"}},"Mon"]:"Sun"===a&&(t=["Wed","Thu","Fri","Sat","Sun",{value:"Mon",textStyle:{fontSize:15,color:"red"}},"Tue"]),t}},{key:"sortByDate",value:function(e){var t={};return Object.keys(e).sort().forEach(function(a){t[a]=e[a]}),t}},{key:"render",value:function(){return l.a.createElement("div",{className:"linediv",style:ee})}}]),t}(l.a.Component),ae=a(13);a(82),a(84),a(403),a(197);var ne=function e(t,a,n){Object(i.a)(this,e),this.type="scatter",this.symbolSize=function(e){return 10*Math.sqrt(e[2])},this.name=t,this.data=a,this.itemStyle=n},le={width:"100%",height:"100%"},re=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).drawChart=function(e,t){var a=ae.init(document.querySelector(".bubblediv")),n={title:{text:this.props.name},legend:{data:t},tooltip:{},xAxis:{splitLine:{lineStyle:{type:"dashed"}},data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{splitLine:{lineStyle:{type:"dashed"}}},series:e};console.log(n),a.setOption(n)},a.drawChart=a.drawChart.bind(Object(f.a)(Object(f.a)(a))),a.update=a.update.bind(Object(f.a)(Object(f.a)(a))),a.state={schedules:{}},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"update",value:function(e,t){var a,n=["rgba(251, 118, 123, 0.7)","rgba(129, 227, 238, 0.7)","rgba(207, 68, 114, 0.7)","rgba(244, 66, 137, 0.8)","rgba(163, 65, 244, 0.7)","rgba(72, 201, 145, 0.6)"],l=[];for(a=0;a<e.length;++a){var r=new ne(e[a],t[a],{normal:{color:n[a]}});l.push(r)}return l}},{key:"componentDidMount",value:function(){var e=this;Promise.all(["/schedule","/class"].map(function(e){return fetch(e)})).then(function(e){return Promise.all(e.map(function(e){return e.json()}))}).then(function(t){var a={},n=!0,l=!1,r=void 0;try{for(var s,i=t[0][Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var o=s.value,c=o.duetime.slice(0,10),u=void 0,h=!0,d=!1,m=void 0;try{for(var f,v=t[1][Symbol.iterator]();!(h=(f=v.next()).done);h=!0){var p=f.value;p._id===o.class&&(u=p.name)}}catch(M){d=!0,m=M}finally{try{h||null==v.return||v.return()}finally{if(d)throw m}}o.classname=u,a.hasOwnProperty(c)?a[c].push(o):a[c]=[o]}}catch(M){l=!0,r=M}finally{try{n||null==i.return||i.return()}finally{if(l)throw r}}e.setState({schedules:e.sortByDate(a)}),console.log(e.state.schedules);for(var g=[],b=[],y=0,k=Object.keys(e.state.schedules);y<k.length;y++){var S=k[y];b.push(new Date(S+"T00:00:00.000-04:00")),g.push(S)}for(var j={},O=0;O<g.length;++O){var E=!0,w=!1,C=void 0;try{for(var D,x=e.state.schedules[g[O]][Symbol.iterator]();!(E=(D=x.next()).done);E=!0){var T=D.value;if(console.log(T),T.finishtime.length>0){var N=T.classname.length<14?T.classname:T.classname.slice(0,14),P=new Date(T.finishtime+":00.000-04:00"),A=P.getHours(),F=P.toDateString().slice(0,3),L=T.actualtime/1.4;j[N]?j[N].push([F,A,L,T.name,N]):j[N]=[[F,A,L,T.name,N]]}}}catch(M){w=!0,C=M}finally{try{E||null==x.return||x.return()}finally{if(w)throw C}}}e.drawChart(e.update(Object.keys(j),Object.values(j)),Object.keys(j))}).catch(function(e){console.log(e)})}},{key:"sortByDate",value:function(e){var t={};return Object.keys(e).sort().forEach(function(a){t[a]=e[a]}),t}},{key:"render",value:function(){return l.a.createElement("div",{className:"bubblediv",style:le})}}]),t}(l.a.Component),se=a(13);a(82),a(84),a(407),a(198),a(415),a(212),a(119);var ie={width:"100%",height:"100%"},oe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).drawChart=function(e){var t=se.init(document.querySelector(".piediv")),a=e.sort(function(e,t){return e.value-t.value}),n=this.props.name;t.setOption({backgroundColor:"#fff",title:{text:n,left:"center",textStyle:{color:"#2c343c"}},tooltip:{},visualMap:[{min:0,max:50,left:"10%",bottom:"10%",inRange:{colorLightness:[.2,1]},outOfRange:{color:["rgb(244, 78, 66)"]},controller:{inRange:{color:["#75abbc"]},outOfRange:{color:["rgb(244, 78, 66)"]}}}],series:[{type:"pie",radius:["40%","70%"],data:a,roseType:"radius",itemStyle:{normal:{color:"#75abbc",shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{normal:{textStyle:{color:"#2c343c"}}},labelLine:{normal:{lineStyle:{color:"#2c343c"},smooth:.2,length:10,length2:20}}}]})},a.drawChart=a.drawChart.bind(Object(f.a)(Object(f.a)(a))),a.state={schedules:{}},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all(["/schedule","/class"].map(function(e){return fetch(e)})).then(function(e){return Promise.all(e.map(function(e){return e.json()}))}).then(function(t){var a={},n=!0,l=!1,r=void 0;try{for(var s,i=t[0][Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var o=s.value,c=o.duetime.slice(0,10),u=void 0,h=!0,d=!1,m=void 0;try{for(var f,v=t[1][Symbol.iterator]();!(h=(f=v.next()).done);h=!0){var p=f.value;p._id===o.class&&(u=p.name)}}catch(V){d=!0,m=V}finally{try{h||null==v.return||v.return()}finally{if(d)throw m}}o.classname=u,a.hasOwnProperty(c)?a[c].push(o):a[c]=[o]}}catch(V){l=!0,r=V}finally{try{n||null==i.return||i.return()}finally{if(l)throw r}}e.setState({schedules:e.sortByDate(a)}),console.log(e.state.schedules);for(var g=[],b=[],y=0,k=Object.keys(e.state.schedules);y<k.length;y++){var S=k[y];b.push(new Date(S+"T00:00:00.000-04:00")),g.push(S)}for(var j={},O={},E=new Date,w=0;w<g.length;++w){var C=!0,D=!1,x=void 0;try{for(var T,N=e.state.schedules[g[w]][Symbol.iterator]();!(C=(T=N.next()).done);C=!0){var P=T.value,A=P.classname.length<14?P.classname:P.classname.slice(0,14);console.log(A);var F=new Date(P.duetime+":00.000-04:00"),L=new Date;L.setDate(E.getDate()-7);var M=new Date;M.setDate(E.getDate()+7);var I=P.difficulty;F>L&&F<E?(console.log(j[A]),j[A]=void 0!==j[A]?j[A]+P.actualtime/I:P.actualtime/I):F>=E&&F<M&&(O[A]=void 0!==O[A]?O[A]+I:I)}}catch(V){D=!0,x=V}finally{try{C||null==N.return||N.return()}finally{if(D)throw x}}}console.log(j),console.log(O);for(var _=0,U=Object.keys(O);_<U.length;_++){var B=U[_];if(j[B]){var G=j[B];0!==G&&(O[B]*=G)}else O[B]=0}for(var z=[],R=0,H=Object.keys(O);R<H.length;R++){var q=H[R],W={name:"",value:0};W.name=q,W.value=O[q],z.push(W)}console.log(z),e.drawChart(z)}).catch(function(e){console.log(e)})}},{key:"sortByDate",value:function(e){var t={};return Object.keys(e).sort().forEach(function(a){t[a]=e[a]}),t}},{key:"render",value:function(){return l.a.createElement("div",{className:"piediv",style:ie})}}]),t}(l.a.Component);a(424);a(100);var ce=[{name:"Agile",value:12},{name:"AIT",value:7},{name:"Graphics",value:17}],ue=[[["Mon",11,4,"Quiz","AIT"],["Mon",11.6,3,"Quiz","AIT"]],[["Wed",6,3,"asssignment","Agile"],["Sun",7,2,"assignment","Agile"],["Sat",8,2,"assignment","Agile"]],[["Tue",23,4,"homework","Graphics"],["Mon",20,3,"homework","Graphics"],["Wed",19,4,"homework","Graphics"],["Fri",14,7,"homework","Graphics"]]],he=["AIT","Agile","Graphics"],de=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"Figures","data-flickity":'{ "wrapAround": true }'},l.a.createElement(Z,{className:"carousel-cell",xdata:["Agile","Quiz 6","Problem Set 5","homework","Budgets"],pdata:[5,20,30,50,20],adata:[10,20,30,45,18],name:"Predicted vs. Actual"}),l.a.createElement(te,{className:"carousel-cell",predTime:[0,16,19,14,15],actualTime:[20,21,11,18,20],name:"Predicted vs. Actual"}),l.a.createElement(re,{className:"carousel-cell",courses:he,data:ue,name:"Finishing Time"}),l.a.createElement(oe,{className:"carousel-cell",name:"Predicted Intensity for Next Week",data:ce}))}}]),t}(n.Component),me=a(229),fe=a(230);function ve(e){return e.auth?l.a.createElement(m.a,{to:"/schedules"}):l.a.createElement("div",null,l.a.createElement(me.GoogleLogin,{clientId:fe.GOOGLE_CLIENT_ID,buttonText:"Login",onSuccess:e.googleResponse,onFailure:e.onFailure}))}var pe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).logout=function(){e.setState({isAuthenticated:!1,token:"",user:null})},e.googleResponse=function(e){var t={token:e.accessToken},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),mode:"cors"};fetch("/auth/google",a).then(function(e){console.log(e),e.json()}).then(function(e){console.log(e)})},e.onFailure=function(e){console.log(e)},e.state={isAuthenticated:!1,user:null,token:""},e}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(d.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(x,null),l.a.createElement(m.b,{exact:!0,path:"/",render:function(){return l.a.createElement(ve,{auth:e.state.isAuthenticated,googleResponse:e.googleResponse,onFailure:e.onFailure})}}),l.a.createElement(m.b,{exact:!0,path:"/schedules",component:H}),l.a.createElement(m.b,{path:"/subject/:subject",component:H}),l.a.createElement(m.b,{path:"/tag/:tag",component:H}),l.a.createElement(m.b,{path:"/analysis",component:de}),l.a.createElement(m.b,{path:"/setting",component:Q})))}}]),t}(n.Component);a(425);s.a.render(l.a.createElement(pe,null),document.body)}},[[232,1,2]]]);
//# sourceMappingURL=main.c2559db5.chunk.js.map